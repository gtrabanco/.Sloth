#!/usr/bin/env bash

if
  [[ -z "${SLOTH_PATH:-}" ]] &&
    command -v brew &> /dev/null &&
    brew --prefix gtrabanco/tools/dot &> /dev/null
then
  SLOTH_PATH="$(brew --prefix gtrabanco/tools/dot)"
elif [[ -z "${SLOTH_PATH:-}" ]]; then
  SLOTH_PATH="${SLOTH_PATH:-${DOTLY_PATH:-${BASH_SOURCE[0]//\/bin\/up/}}}"
elif command -v up &> /dev/null; then
  SLOTH_PATH="$(dirname "$(dirname "$(command -v up)")")"
else
  echo "\033[0;31m\033[1mSLOTH Loader could not be found, check \$DOTFILES_PATH & \$SLOTH_PATH variables\033[0m"
fi

"${SLOTH_PATH}/bin/dot" package update_all "$@"
